<!--
SPDX-FileCopyrightText: Aravis Project Team

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Aravis &ndash; 0.10: Porting to Aravis 0.10</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  
  <meta property="og:image:width" content="256"/>
  <meta property="og:image:height" content="256"/>
  <meta property="og:image:secure_url" content="aravis.svg"/>
  <meta property="og:image:alt" content="Aravis-0.10"/>
  

  
  <meta property="og:title" content="Aravis: Porting to Aravis 0.10"/>
  <meta property="og:description" content="Reference for Aravis-0.10: Porting to Aravis 0.10"/>
  <meta name="twitter:title" content="Aravis: Porting to Aravis 0.10"/>
  <meta name="twitter:description" content="Reference for Aravis-0.10: Porting to Aravis 0.10"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  <link rel="search" type="application/opensearchdescription+xml" title="Aravis" href="opensearch.xml">
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      <div class="section">
        <a href="index.html"><img src="aravis.svg" class="logo"/></a>
      </div>
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Aravis</a></h3>
        <p>API Version: 0.10</p>
        
        <p>Library Version: 0.9.1</p>
        
      </div>
      
      
      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2025.4</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  
  <h4 id="title" style="display:flex;">
    Porting to Aravis 0.10
    <a href="#title" class="anchor"></a>
    
  </h4>
  
  <section>
    <div class="docblock">
    <h3 id="porting-to-aravis-010">Porting to Aravis 0.10<a class="md-anchor" href="#porting-to-aravis-010" title="Permanent link"></a></h3>
<p>The 0.10 stable series breaks some APIs. Like every stable series, it is
parallel installable with the previous&nbsp;ones.</p>
<p>In most case it is possible to make your code compilable against different
stable versions, by using version checks. For&nbsp;example:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#if ARAVIS_CHECK_VERSION(0,10,0)</span>
<span class="w">    </span><span class="n">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arv_camera_create_stream</span><span class="w"> </span><span class="p">(</span><span class="n">test_camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">stream_calback</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">callback_data</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span>
<span class="w">                                       </span><span class="o">&amp;</span><span class="n">error</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="w">    </span><span class="n">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arv_camera_create_stream</span><span class="w"> </span><span class="p">(</span><span class="n">test_camera</span><span class="o">-&gt;</span><span class="n">camera</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">stream_calback</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">callback_data</span><span class="p">,</span>
<span class="w">                                       </span><span class="o">&amp;</span><span class="n">error</span><span class="p">);</span>
<span class="cp">#endif</span>
</code></pre></div>

<h4 id="acquisition-control">Acquisition control<a class="md-anchor" href="#acquisition-control" title="Permanent link"></a></h4>
<p><code>arv_stream_start_thread()</code> and <code>arv_stream_stop_thread()</code> functions have been
removed in favor of <a href="method.Stream.start_acquisition.html"><code>arv_stream_start_acquisition()</code></a> and
<a href="method.Stream.stop_acquisition.html"><code>arv_stream_stop_acquisition()</code></a>. The main difference is acquisition is
not started automatically at stream creation, but should be done afterward. This
maps better with GenAPI, where buffers must be pushed to DataStream objects
before DataStream acquisition is started.
<a href="method.Camera.start_acquisition.html"><code>arv_camera_start_acquisition()</code></a> and
<a href="method.Camera.stop_acquisition.html"><code>arv_camera_stop_acquisition()</code></a> do the calls for you, but if you are
using&nbsp;the <code>ArvDevice</code> <span class="caps">API</span> directly, you have to call the start/stop acquisition&nbsp;functions.</p>
<p>The&nbsp;optional <code>delete_buffers</code> parameter&nbsp;of <code>arv_stream_stop_thread()</code> is
replaced by a separate <a href="method.Stream.delete_buffers.html"><code>arv_stream_delete_buffers()</code></a>&nbsp;function.</p>
<h3 id="arv_stream_create_buffers">arv_stream_create_buffers<a class="md-anchor" href="#arv_stream_create_buffers" title="Permanent link"></a></h3>
<p>You should preferably use the new <a href="method.Stream.create_buffers.html"><code>arv_stream_create_buffers()</code></a>
function, which creates interface native buffers if&nbsp;possible.</p>
<h4 id="arv_stream_get_n_owned_buffers">arv_stream_get_n_owned_buffers<a class="md-anchor" href="#arv_stream_get_n_owned_buffers" title="Permanent link"></a></h4>
<p><code>arv_stream_get_n_buffers</code> has been renamed
<a href="method.Stream.get_n_owned_buffers.html"><code>arv_stream_get_n_owned_buffers()</code></a> to better reflect what it does, and
has a third out parameter returning the number of buffer owned by the stream
receiving&nbsp;thread.</p>
<h4 id="arv_camera_create_stream-arv_device_create_stream-and-arv_fake_camera_set_fill_pattern">arv_camera_create_stream, arv_device_create_stream and arv_fake_camera_set_fill_pattern<a class="md-anchor" href="#arv_camera_create_stream-arv_device_create_stream-and-arv_fake_camera_set_fill_pattern" title="Permanent link"></a></h4>
<p><a href="method.Camera.create_stream.html"><code>arv_camera_create_stream()</code></a>, <a href="method.Device.create_stream.html"><code>arv_device_create_stream()</code></a> and
<a href="method.FakeCamera.set_fill_pattern.html"><code>arv_fake_camera_set_fill_pattern()</code></a> take an additional GDestroyNotify
parameter, that will be called when the callback closure data are not useful
anymore, and can be&nbsp;destroyed.</p>
    </div>
  </section>
</section>


    
<div id="toc" class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      
        
        <li class="toc-list-item"><a href="#porting-to-aravis-010"><span class="link-text">Porting to Aravis 0.10</span></a></li>
          
          <ul class="toc-list">
          
            <li class="toc-list-item"><a href="#acquisition-control"><span class="link-text">Acquisition control</span></a></li>
          
          </ul>
          
        
        <li class="toc-list-item"><a href="#arv_stream_create_buffers"><span class="link-text">arv_stream_create_buffers</span></a></li>
          
          <ul class="toc-list">
          
            <li class="toc-list-item"><a href="#arv_stream_get_n_owned_buffers"><span class="link-text">arv_stream_get_n_owned_buffers</span></a></li>
          
            <li class="toc-list-item"><a href="#arv_camera_create_stream-arv_device_create_stream-and-arv_fake_camera_set_fill_pattern"><span class="link-text">arv_camera_create_stream, arv_device_create_stream and arv_fake_camera_set_fill_pattern</span></a></li>
          
          </ul>
          
        
      
    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>